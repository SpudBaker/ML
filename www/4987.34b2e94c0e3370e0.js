"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(v,h,i)=>{i.r(h),i.d(h,{LoginPageModule:()=>Z});var p=i(6895),a=i(4719),t=i(9772),m=i(8342),l=i(1086),g=i(7224),c=i(7221),f=i(4850),e=i(6738),M=i(9946);function w(o,s){if(1&o&&(e.TgZ(0,"ion-row"),e._UZ(1,"ion-col",1),e.TgZ(2,"ion-col",6)(3,"ion-text",7),e._uU(4),e.qZA()(),e._UZ(5,"ion-col",1),e.qZA()),2&o){const n=e.oxw();e.xp6(4),e.Oqu(n.loginErrMessage)}}const E=[{path:"",component:(()=>{class o{constructor(n){this.authService=n}register(){this.loginErrMessage=null,this.authService.createUserWithEmailAndPassword(this.inputEmail,this.inputPassword).pipe((0,g.P)(),(0,c.K)(n=>{switch(n.code){case"auth/invalid-email":this.loginErrMessage="Enter the correct email format";break;case"auth/email-already-in-use":this.loginErrMessage="Email address is alreday registered";break;case"auth/weak-password":this.loginErrMessage="Create a stronger password when registering";break;default:this.loginErrMessage=n.code}return(0,l.of)(void 0)})).subscribe()}resetPassword(){this.loginErrMessage=null,this.inputEmail?this.authService.resetPassword(this.inputEmail).pipe((0,g.P)(),(0,f.U)(()=>this.loginErrMessage="Check your inbox for an email with a password reset link"),(0,c.K)(n=>("auth/invalid-email"===n.code&&(this.loginErrMessage="Enter the correct email format"),this.loginErrMessage=n.code,(0,l.of)(void 0)))).subscribe():this.loginErrMessage="Enter an email to reset your password"}signIn(){this.loginErrMessage=null,this.inputEmail&&this.inputPassword?this.authService.signIn(this.inputEmail,this.inputPassword).pipe((0,g.P)(),(0,c.K)(n=>{switch(n.code){case"auth/invalid-email":this.loginErrMessage="Enter the correct email format";break;case"auth/user-not-found":this.register();break;case"auth/wrong-password":this.loginErrMessage="Wrong password - try again or reset";break;case"auth/too-many-requests":this.loginErrMessage="Too many attempts and account is locked. Reset password.";break;default:this.loginErrMessage=n.code}return(0,l.of)(void 0)})).subscribe():this.loginErrMessage="Enter both email and password"}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(M.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:30,vars:3,consts:[[1,"outerDiv"],["size","5"],["color","grey","placeholder","enter email",3,"ngModel","ngModelChange"],["type","password","color","grey","placeholder","enter password",3,"ngModel","ngModelChange"],["expand","block","color","primary",3,"click"],[4,"ngIf"],["size","2"],["color","danger"]],template:function(n,r){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"login / register"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"div",0)(6,"ion-grid")(7,"ion-row"),e._UZ(8,"ion-col",1),e.TgZ(9,"ion-col")(10,"ion-input",2),e.NdJ("ngModelChange",function(d){return r.inputEmail=d}),e.qZA()(),e._UZ(11,"ion-col",1),e.qZA(),e.TgZ(12,"ion-row"),e._UZ(13,"ion-col",1),e.TgZ(14,"ion-col")(15,"ion-input",3),e.NdJ("ngModelChange",function(d){return r.inputPassword=d}),e.qZA()(),e._UZ(16,"ion-col",1),e.qZA(),e.TgZ(17,"ion-row"),e._UZ(18,"ion-col",1),e.TgZ(19,"ion-col")(20,"ion-button",4),e.NdJ("click",function(){return r.signIn()}),e._uU(21,"Sign In"),e.qZA()(),e._UZ(22,"ion-col",1),e.qZA(),e.YNc(23,w,6,1,"ion-row",5),e.TgZ(24,"ion-row"),e._UZ(25,"ion-col",1),e.TgZ(26,"ion-col")(27,"ion-button",4),e.NdJ("click",function(){return r.resetPassword()}),e._uU(28,"Password Reset"),e.qZA()(),e._UZ(29,"ion-col",1),e.qZA()()()()),2&n&&(e.xp6(10),e.Q6J("ngModel",r.inputEmail),e.xp6(5),e.Q6J("ngModel",r.inputPassword),e.xp6(8),e.Q6J("ngIf",r.loginErrMessage))},dependencies:[p.O5,a.JJ,a.On,t.YG,t.wI,t.W2,t.jY,t.Gu,t.pK,t.Nd,t.yW,t.wd,t.sr,t.j9],styles:[".outerDiv[_ngcontent-%COMP%]{width:90vw;height:70vh;margin:15vh auto}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,a.u5,t.Pc,P]}),o})()}}]);